# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class Wamon < Formula
  desc "CLI tool related to WAON points or services"
  homepage "https://github.com/econron/wamon"
  version "0.2.3"
  license "MIT"

  on_macos do
    if Hardware::CPU.intel?
      url "https://github.com/econron/wamon/releases/download/v0.2.3/wamon_Darwin_x86_64.tar.gz"
      sha256 "1a02dc1fedec1a93dcfc1f4cce3257600feb916443cce013a502922dad38078d"

      def install
        bin.install "wamon"
        # もし、設定ファイルやシェルの補完スクリプトなども配布する場合は以下のように追加します
        # etc.install "path/to/your/config.yaml" => "wamon.yaml" # 設定ファイル例
        # zsh_completion.install "completions/wamon.zsh" => "_wamon" # Zsh補完例
        # bash_completion.install "completions/wamon.bash"          # Bash補完例
        # fish_completion.install "completions/wamon.fish"          # Fish補完例
      end
    end
    if Hardware::CPU.arm?
      url "https://github.com/econron/wamon/releases/download/v0.2.3/wamon_Darwin_arm64.tar.gz"
      sha256 "d70f43381f6336e0b1d319e3d4bcbd46866d6a55cbc9f62c2d94fbcef3d77a81"

      def install
        bin.install "wamon"
        # もし、設定ファイルやシェルの補完スクリプトなども配布する場合は以下のように追加します
        # etc.install "path/to/your/config.yaml" => "wamon.yaml" # 設定ファイル例
        # zsh_completion.install "completions/wamon.zsh" => "_wamon" # Zsh補完例
        # bash_completion.install "completions/wamon.bash"          # Bash補完例
        # fish_completion.install "completions/wamon.fish"          # Fish補完例
      end
    end
  end

  on_linux do
    if Hardware::CPU.intel?
      if Hardware::CPU.is_64_bit?
        url "https://github.com/econron/wamon/releases/download/v0.2.3/wamon_Linux_x86_64.tar.gz"
        sha256 "48f9d5111bd10b7bd08a7ecae1bf8e04c2e86f431da2bc0db58fc95bf817f0b2"

        def install
          bin.install "wamon"
          # もし、設定ファイルやシェルの補完スクリプトなども配布する場合は以下のように追加します
          # etc.install "path/to/your/config.yaml" => "wamon.yaml" # 設定ファイル例
          # zsh_completion.install "completions/wamon.zsh" => "_wamon" # Zsh補完例
          # bash_completion.install "completions/wamon.bash"          # Bash補完例
          # fish_completion.install "completions/wamon.fish"          # Fish補完例
        end
      end
    end
    if Hardware::CPU.arm?
      if Hardware::CPU.is_64_bit?
        url "https://github.com/econron/wamon/releases/download/v0.2.3/wamon_Linux_arm64.tar.gz"
        sha256 "77ec0a2a0e5ef1817d1046dd5e505e47d15821a729e419c91baa4280afa28cb9"

        def install
          bin.install "wamon"
          # もし、設定ファイルやシェルの補完スクリプトなども配布する場合は以下のように追加します
          # etc.install "path/to/your/config.yaml" => "wamon.yaml" # 設定ファイル例
          # zsh_completion.install "completions/wamon.zsh" => "_wamon" # Zsh補完例
          # bash_completion.install "completions/wamon.bash"          # Bash補完例
          # fish_completion.install "completions/wamon.fish"          # Fish補完例
        end
      end
    end
  end

  test do
    # 例1: ヘルプコマンドがエラーなく実行できればOKとする
    system "#{bin}/wamon", "--help"
    # 例2: バージョンコマンドの出力に特定の文字列が含まれるか確認する
    assert_match "wamon version", shell_output("#{bin}/wamon --version")
  end
end
